<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculator</title>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Varela+Round&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/reset.css">
  <link rel="stylesheet" href="./style.css">
</head>

<body>
  <div id="bg">

    <!-- <ol> -->
    <!-- <li>待解決：乘除修改符號後keycode無效</li> -->
    <!-- <li>待解決：初始值（不可以是+-*/）</li>
      <li>小數點不可以一直點 - OK</li>
      <li>點擊音效 當數字是0的時候加減乘除不顯示在output上</li>
    </ol> -->
    <div id="cal">
      <div id="line"></div>
      <table class="neon">
        <tr>
          <td colspan="4" id='output'>0</td>
        </tr>
        <tr>
          <td id="c">c</td>
          <td class="funcBtn">&#247;</td>
          <td class="funcBtn">x</td>
          <td class="funcBtn">-</td>
        </tr>
        <tr>
          <td class="numBtn">7</td>
          <td class="numBtn">8</td>
          <td class="numBtn">9</td>
          <td rowspan="2" class="funcBtn">+</td>
        </tr>
        <tr>
          <td class="numBtn">4</td>
          <td class="numBtn">5</td>
          <td class="numBtn">6</td>
        </tr>
        <tr>
          <td class="numBtn">1</td>
          <td class="numBtn">2</td>
          <td class="numBtn">3</td>
          <td rowspan="2" class="funcBtn">=</td>
        </tr>
        <tr>
          <td colspan="2" class="numBtn">0</td>
          <td id="decimal">.</td>
        </tr>
      </table>
    </div>

  </div>


  <script>
    const output = document.getElementById('output')
    const numBtns = document.querySelectorAll('.numBtn')
    const funcBtns = document.querySelectorAll('.funcBtn')
    const decimal = document.getElementById('decimal')
    const clearBtn = document.getElementById('c')
    let memory = 0
    // 數字0~9
    for (const numBtn of numBtns) {
      numBtn.onclick = () => {
        const numBtnText = numBtn.innerText
        if (output.innerText === '0') {
          output.innerText = numBtnText
        } else {
          output.innerText += numBtnText
        }
        return memory = output.innerText
      }
    }

    // 加減乘除、等於
    for (const funcBtn of funcBtns) {
      funcBtn.onclick = () => {
        console.log(funcBtn);
        const funcBtnText = funcBtn.innerText
        if (funcBtnText === '+') {
          // 這裡有問題
          output.innerText = output.innerText
          memory += '+'
        }
        // console.log(memory);

      }
    }

    // 小數點
    decimal.onclick = () => {
      const deciBtn = decimal.innerText
      if (output.innerText.includes('.')) {
        output.innerText = output.innerText
      } else {
        output.innerText += deciBtn
      }
      return memory = output.innerText
      // console.log(memory);
    }

    // 清除
    clearBtn.onclick = () => {
      output.innerText = '0'
      memory = 0
    }



    // document.onkeydown = event => {
    //   if (event.key === 'Enter') {
    //     output.innerText = eval(output.innerText)
    //   } else if (
    //     !isNaN(parseInt(event.key)) ||
    //     event.key === '+' ||
    //     event.key === '-' ||
    //     event.key === '*' ||
    //     event.key === '/' ||
    //     event.key === '.' ||
    //     event.key === 'x' ||
    //     event.key === 'Backspace'
    //   ) {
    //     if (output.innerText === '0') {
    //       output.innerText = event.key
    //     } else {
    //       output.innerText += event.key
    //     }
    //   }
    // }
  </script>
</body>

</html>